"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[437],{437:(t,e,n)=>{n.d(e,{A:()=>i});let r="undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{};(function(){let t,e,n,r,i,a,o,s,l,c;var u,f,h,d,g,y,p=Object.defineProperty,m=function(t){t=["object"==typeof globalThis&&globalThis,t,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(t,e){if(e)t:{var n=m;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];if(!(i in n))break t;n=n[i]}(e=e(r=n[t=t[t.length-1]]))!=r&&null!=e&&p(n,t,{configurable:!0,writable:!0,value:e})}}("Symbol.dispose",function(t){return t||Symbol("Symbol.dispose")});var w=this||self;function v(t,e){function n(){}n.prototype=e.prototype,t.qa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.oa=function(t,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return e.prototype[n].apply(t,i)}}function b(t,e){if(Error.captureStackTrace)Error.captureStackTrace(this,b);else{let t=Error().stack;t&&(this.stack=t)}t&&(this.message=String(t)),void 0!==e&&(this.cause=e)}function S(t){w.setTimeout(()=>{throw t},0)}v(b,Error),b.prototype.name="CustomError";t:{for(var x=["CLOSURE_FLAGS"],A=w,T=0;T<x.length;T++)if(null==(A=A[x[T]])){h=null;break t}h=A}var E=h&&h[0x2461fc15];f=null!=E&&E;let N=w.navigator;function P(t){return!!f&&!!d&&d.brands.some(({brand:e})=>e&&-1!=e.indexOf(t))}function I(t){var e;return(e=w.navigator)&&(e=e.userAgent)||(e=""),-1!=e.indexOf(t)}function j(){return!!f&&!!d&&d.brands.length>0}function U(){return j()?P("Chromium"):(I("Chrome")||I("CriOS"))&&!(j()?0:I("Edge"))||I("Silk")}function M(t,e){(e=Array.prototype.indexOf.call(t,e,void 0))>=0&&Array.prototype.splice.call(t,e,1)}function C(t){let e="",n=0,r=t.length-10240;for(;n<r;)e+=String.fromCharCode.apply(null,t.subarray(n,n+=10240));return btoa(e+=String.fromCharCode.apply(null,n?t.subarray(n):t))}d=N&&N.userAgentData||null,I("Android")&&U(),U(),I("Safari")&&(U()||(j()?0:I("Coast"))||(j()?0:I("Opera"))||(j()?0:I("Edge"))||(j()?P("Microsoft Edge"):I("Edg/"))||j()&&P("Opera"));let _=/[-_.]/g,k={"-":"+",_:"/",".":"="};function O(t){return k[t]||""}function R(t){return null!=t&&t instanceof Uint8Array}var D={};function L(){return t||(t=new F(null,D))}var F=class{constructor(t,e){if($(e),this.g=t,null!=t&&0===t.length)throw Error("ByteString should be constructed with non-empty values")}};function $(t){if(t!==D)throw Error("illegal external caller")}function B(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e}function z(){let t=Error();B(t,"incident"),S(t)}function W(t){return B(t=Error(t),"warning"),t}function J(){return"function"==typeof BigInt}function G(t){return Array.prototype.slice.call(t)}function K(t,e){return e&&Symbol.for&&t?Symbol.for(t):null!=t?Symbol(t):Symbol()}var Y=K("jas",!0);K();var V=K(),H=K();function q(t,e){e[Y]=(0|t)&-30975}function X(t,e){e[Y]=(34|t)&-30941}K(),K();var Z={},Q={};function tt(t){return!(!t||"object"!=typeof t||t.g!==Q)}function te(t){return null!==t&&"object"==typeof t&&!Array.isArray(t)&&t.constructor===Object}function tn(t,e){if(null!=t){if("string"==typeof t)t=t?new F(t,D):L();else if(t.constructor!==F){if(R(t))t=t.length?new F(new Uint8Array(t),D):L();else{if(!e)throw Error();t=void 0}}}return t}function tr(t){return!!Array.isArray(t)&&!t.length&&!!((0|t[Y])&1)}let ti=[];function ta(t){if(2&t)throw Error()}ti[Y]=55,g=Object.freeze(ti);var to=Object.freeze({});function ts(t){return t.pa=!0,t}var tl=ts(t=>"number"==typeof t),tc=ts(t=>"string"==typeof t),tu=ts(t=>"boolean"==typeof t),tf="function"==typeof w.BigInt&&"bigint"==typeof w.BigInt(0),th=ts(t=>tf?t>=tg&&t<=tp:"-"===t[0]?tm(t,td):tm(t,ty));let td=Number.MIN_SAFE_INTEGER.toString(),tg=tf?BigInt(Number.MIN_SAFE_INTEGER):void 0,ty=Number.MAX_SAFE_INTEGER.toString(),tp=tf?BigInt(Number.MAX_SAFE_INTEGER):void 0;function tm(t,e){if(t.length>e.length)return!1;if(t.length<e.length||t===e)return!0;for(let n=0;n<t.length;n++){let r=t[n],i=e[n];if(r>i)return!1;if(r<i)return!0}}let tw=0,tv=0;function tb(t){let e=t>>>0;tw=e,tv=(t-e)/0x100000000>>>0}function tS(t){if(t<0){tb(-t);let[e,n]=tT(tw,tv);tw=e>>>0,tv=n>>>0}else tb(t)}function tx(t,e){if(t>>>=0,(e>>>=0)<=2097151)var n=""+(0x100000000*e+t);else J()?n=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(n=(t>>>24|e<<8)&0xffffff,t=(0xffffff&t)+6777216*n+6710656*(e=e>>16&65535),n+=8147497*e,e*=2,t>=1e7&&(n+=t/1e7>>>0,t%=1e7),n>=1e7&&(e+=n/1e7>>>0,n%=1e7),n=e+tA(n)+tA(t));return n}function tA(t){return t=String(t),"0000000".slice(t.length)+t}function tT(t,e){return e=~e,t?t=~t+1:e+=1,[t,e]}function tE(t){return null==t||"boolean"==typeof t?t:"number"==typeof t?!!t:void 0}let tN=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function tP(t){let e=typeof t;switch(e){case"bigint":return!0;case"number":return Number.isFinite(t)}return"string"===e&&tN.test(t)}function tI(t){if(null!=t){if(!Number.isFinite(t))throw W("enum");t|=0}return t}function tj(t){if(null!=t){if("string"==typeof t){if(!t)return;t=+t}"number"==typeof t&&Number.isFinite(t)}}function tU(t){if(null!=t)t:{if(!tP(t))throw W("int64");switch(typeof t){case"string":t=tC(t);break t;case"bigint":var e=t=BigInt.asIntN(64,t);if(tc(e)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(e))throw Error(String(e))}else if(tl(e)&&!Number.isSafeInteger(e))throw Error(String(e));t=tf?BigInt(t):tu(t)?t?"1":"0":tc(t)?t.trim()||"0":String(t);break t;default:t=tM(t)}}return t}function tM(t){if(!Number.isSafeInteger(t=Math.trunc(t))){tS(t);var e=tw,n=tv;(t=0x80000000&n)&&(n=~n>>>0,0==(e=~e+1>>>0)&&(n=n+1>>>0));let r=0x100000000*n+(e>>>0);t="number"==typeof(e=Number.isSafeInteger(r)?r:tx(e,n))?t?-e:e:t?"-"+e:e}return t}function tC(t){var e=Math.trunc(Number(t));if(Number.isSafeInteger(e))return String(e);if(-1!==(e=t.indexOf("."))&&(t=t.substring(0,e)),!("-"===t[0]?t.length<20||20===t.length&&Number(t.substring(0,7))>-922337:t.length<19||19===t.length&&922337>Number(t.substring(0,6)))){if(t.length<16)tS(Number(t));else if(J())tw=Number((t=BigInt(t))&BigInt(0xffffffff))>>>0,tv=Number(t>>BigInt(32)&BigInt(0xffffffff));else{e=+("-"===t[0]),tv=tw=0;let n=t.length;for(let r=e,i=(n-e)%6+e;i<=n;r=i,i+=6){let e=Number(t.slice(r,i));tv*=1e6,(tw=1e6*tw+e)>=0x100000000&&(tv+=Math.trunc(tw/0x100000000),tv>>>=0,tw>>>=0)}if(e){let[t,e]=tT(tw,tv);tw=t,tv=e}}if(t=tw,0x80000000&(e=tv)){if(J())t=""+(BigInt(0|e)<<BigInt(32)|BigInt(t>>>0));else{let[n,r]=tT(t,e);t="-"+tx(n,r)}}else t=tx(t,e)}return t}function t_(t){if(null!=t&&"string"!=typeof t)throw Error();return t}function tk(t,e,n){if(null!=t&&"object"==typeof t&&t.H===Z)return t;if(Array.isArray(t)){var r=0|t[Y],i=r;return 0===i&&(i|=32&n),(i|=2&n)!==r&&(t[Y]=i),new e(t)}}function tO(t){let e;return null==(e=a)?void 0:e.get(t)}function tR(t){try{return -1!==t.toString().indexOf("[native code]")?t:null}catch{return null}}function tD(t,e){return tL(e)}function tL(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"bigint":return th(t)?Number(t):String(t);case"boolean":return t?1:0;case"object":if(t){if(Array.isArray(t)){if(tr(t))return}else{if(R(t))return C(t);if(t instanceof F){let e=t.g;return null==e?"":"string"==typeof e?e:t.g=C(e)}}}}return t}function tF(t,e,n,r,i){let a=r||n?0|t[Y]:0;r=r?!!(32&a):void 0,t=G(t);for(let a=0;a<t.length;a++)t[a]=function t(e,n,r,i,a){if(null!=e){if(Array.isArray(e))e=tr(e)?void 0:a&&(0|e[Y])&2?e:tF(e,n,r,void 0!==i,a);else if(te(e)){let o={};for(let s in e)o[s]=t(e[s],n,r,i,a);e=o}else e=n(e,i);return e}}(t[a],e,n,r,i);return n&&n(a,t),t}function t$(t){return t.H===Z?t.toJSON():tL(t)}function tB(t,e,n){let r=n||2&e?X:q,i=!!(32&e);return(t=function(t,e,n){var r=(t=G(t)).length;let i=256&e?t[r-1]:void 0;for(r+=i?-1:0,e=512&e?1:0;e<r;e++)t[e]=n(t[e]);if(i)for(let r in e=t[e]={},i)e[r]=n(i[r]);return t}(t,e,t=>(function t(e,n,r=X){if(null!=e){if(e instanceof Uint8Array)return n?e:new Uint8Array(e);if(Array.isArray(e)){var i=0|e[Y];return 2&i?e:(n&&(n=0===i||!!(32&i)&&!(64&i||!(16&i))),n?(e[Y]=(34|i)&-12293,e):tF(e,t,4&i?X:r,!0,!0))}return e.H===Z&&(e=2&(i=(r=e.m)[Y])?e:new e.constructor(tB(r,i,!0))),e}})(t,i,r)))[Y]=32|t[Y]|(n?2:0),t}function tz(t){let e=t.m,n=e[Y];return 2&n?new t.constructor(tB(e,n,!1)):t}function tW(t,e){return tG(t=t.m,t[Y],e)}function tJ(t,e,n,r){if(!((e=r+(+!!(512&e)-1))<0||e>=t.length||e>=n))return t[e]}function tG(t,n,r,i){if(-1===r)return null;let a=n>>15&1023||0x20000000;if(r>=a){if(256&n)return t[t.length-1][r]}else{var o,s=t.length;return i&&256&n&&null!=(i=t[s-1][r])?(tJ(t,n,a,r)&&null!=V&&((o=(t=null!=(o=e)?o:e={})[V]||0)>=4||(t[V]=o+1,z())),i):tJ(t,n,a,r)}}function tK(t,e,n){let r=t.m,i=r[Y];return ta(i),tY(r,i,e,n),t}function tY(t,e,n,r){let i=e>>15&1023||0x20000000;if(n>=i){let a,o=e;if(256&e)a=t[t.length-1];else{if(null==r)return o;a=t[i+(+!!(512&e)-1)]={},o|=256}return a[n]=r,n<i&&(t[n+(+!!(512&e)-1)]=void 0),o!==e&&(t[Y]=o),o}return t[n+(+!!(512&e)-1)]=r,256&e&&n in(t=t[t.length-1])&&delete t[n],e}function tV(t,e,n,r){return n=tX(t,r)===n?n:-1,void 0!==t0(t,e,n)}function tH(t){return!!(2&t)&&!!(4&t)||!!(2048&t)}function tq(t,e,n,r){let i=t.m,a=i[Y];return ta(a),tY(i,a,e,("0"===r?0===Number(n):n===r)?void 0:n),t}function tX(t,e){return tQ(tZ(t=t.m),t,t[Y],e)}function tZ(t){let e;return null!=(e=t[H])?e:t[H]=new Map}function tQ(t,e,n,r){let i=t.get(r);if(null!=i)return i;i=0;for(let t=0;t<r.length;t++){let a=r[t];null!=tG(e,n,a)&&(0!==i&&(n=tY(e,n,i)),i=a)}return t.set(r,i),i}function t0(t,e,n,r){let i=(t=t.m)[Y];return(e=tk(r=tG(t,i,n,r),e,i))!==r&&null!=e&&tY(t,i,n,e),e}function t1(t,e,n){if(null==(e=t0(t,e,n,!1)))return e;let r=(t=t.m)[Y];if(!(2&r)){let i=tz(e);i!==e&&tY(t,r,n,e=i)}return e}function t2(t,e,n){return null==n&&(n=void 0),tK(t,e,n)}function t3(t,e,n,r){null==r&&(r=void 0);t:{let o=t.m;var i=o[Y];if(ta(i),null==r){var a=tZ(o);if(tQ(a,o,i,n)===e)a.set(n,0);else break t}else{let t=tZ(a=o),r=tQ(t,a,i,n);r!==e&&(r&&(i=tY(a,i,r)),t.set(n,e))}tY(o,i,e,r)}return t}function t4(t,e){let n=t.m,r=n[Y];if(ta(r),null==e)return tY(n,r,1),t;var i,a=e;i=a=0|(e=(null==(i=o)?void 0:i.get(a))||a)[Y];let s=tH(a),l=s||Object.isFrozen(e),c=!0,u=!0;for(let t=0;t<e.length;t++){var f=e[t];s||(f=!!((0|f.m[Y])&2),c&&(c=!f),u&&(u=f))}return s||(a=c?13:5,a=u?16|a:-17&a),l&&a===i||(e=G(e),i=0,a=t5(a=t6(a,r),r,!0)),a!==i&&(e[Y]=a),tY(n,r,1,e),t}function t6(t,e){return -2049&(t=(2&e?2|t:-3&t)|32)}function t5(t,e,n){return 32&e&&n||(t&=-33),t}function t9(t,e){return null!=t?t:e}function t7(t){return null!=(t=tW(t,1))&&(t="bigint"==typeof t?th(t)?Number(t):th(t=BigInt.asIntN(64,t))?Number(t):String(t):tP(t)?"number"==typeof t?tM(t):tC(t):void 0),t9(t,0)}function t8(t,e){return t9(null==(t=tW(t,e))||"string"==typeof t?t:void 0,"")}function et(t,e){return t9(t=null==(t=tW(t,e))?t:Number.isFinite(t)?0|t:void 0,0)}function ee(t,e,n,r){return n=tX(t,r)===n?n:-1,t1(t,e,n)}function en(t){try{return n=!0,JSON.stringify(ei(t),tD)}finally{n=!1}}var er=class{constructor(t){t:{var e=null!=e?e:0;if(null==t){var n=96;t=[]}else{if(!Array.isArray(t))throw Error("narr");if(2048&(n=0|t[Y]))throw Error("farr");if(64&n)break t;1===e||2===e||(n|=64);var r=(e=t).length;if(r&&te(e[--r])){if(n|=256,(e=r-(+!!(512&n)-1))>=1024)throw Error("pvtlmt");n=-0x1ff8001&n|(1023&e)<<15}}t[Y]=n}this.m=t}toJSON(){return ei(this)}};function ei(t){t=t.m,t=n?t:tF(t,t$,void 0,void 0,!1);{var e=!n;let u=t.length;if(u){var r=t[u-1],i=te(r);i?u--:r=void 0;var a=t;if(i){e:{var o,s=r,l=!1;if(s){for(let t in s)if(isNaN(+t)){let e;(null!=(e=o)?e:o={})[t]=s[t]}else if(Array.isArray(i=s[t])&&(tr(i)||tt(i)&&0===i.size)&&(i=null),null==i&&(l=!0),null!=i){let e;(null!=(e=o)?e:o={})[t]=i}}if(l||(o=s),o)for(let t in o){l=o;break e}l=null}s=null==l?null!=r:l!==r}for(;u>0&&(null==(o=a[u-1])||tr(o)||tt(o)&&0===o.size);u--)var c=!0;(a!==t||s||c)&&(e?(c||s||l)&&(a.length=u):a=Array.prototype.slice.call(a,0,u),l&&a.push(l)),c=a}else c=t}return c}function ea(t){return e=>{if(null==e||""==e)e=new t;else{if(!Array.isArray(e=JSON.parse(e)))throw Error("dnarr");e[Y]|=32,e=new t(e)}return e}}er.prototype.H=Z,er.prototype.toString=function(){try{return n=!0,ei(this).toString()}finally{n=!1}};var eo=(u=class extends er{},t=>{if(!Array.isArray(t=JSON.parse(t))){var e=typeof t;throw Error("Expected jspb data to be an array, got "+("object"!=e?e:t?Array.isArray(t)?"array":e:"null")+": "+t)}return t[Y]|=34,new u(t)}),es=class extends er{};function el(t){return ec(t,t.index)>=t.g&&(t.h[t.index]=Date.now(),t.index=(t.index+1)%1,!0)}function ec(t,e){let n;return Date.now()-(null!=(n=t.h[e])?n:-1*t.g)}var eu=class{constructor(t){this.g=t,this.h=[],this.index=0}},ef=class extends er{},eh=[2,3],ed=class extends er{},eg=class extends Error{constructor({errorType:t,message:e,i:n}){super(`Meet Add-on SDK error: ${e}${n?` - ${n}`:""}`),this.errorType=t}},ey={errorType:"InternalError",message:"An unexpected error has occurred.",i:"No further information is available."},ep={errorType:"MissingUrlParameter",message:"Missing required Meet SDK URL parameter",i:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not strip URL parameters (e.g. as part of a redirect)."},em={errorType:"NeedsMainStageContext",message:"This method can only be invoked if the addon is running in the main stage.",i:"Use getFrameType to check whether the addon is running in the main stage before invoking this method."},ew={errorType:"NeedsSidePanelContext",message:"This method can only be invoked if the addon is running in the side panel.",i:"Use getFrameType to check whether the addon is running in the side panel before invoking this method."},ev={errorType:"NotSupportedInStandalone",message:"This method is not supported in standalone mode.",i:"Do not call this method in standalone mode."},eb={errorType:"InternalError",message:"The frame type URL parameter is set to an unexpected value.",i:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect)."},eS={errorType:"InvalidCloudProjectNumber",message:"Cloud Project Number provided by meet does not match the one passed in by the SDK. Ensure that the correct Cloud Project Number is passed to the SDK as a string.",i:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect) and ensure that the correct Cloud Project Number was passed into the SDK as a string."},ex={errorType:"DestinationNotReady",message:"The recipient frame is not connected via the addon SDK and cannot receive the notification.",i:"Make sure the destination frame has connected before sending messages to it."},eA={errorType:"InvalidActivityStartingState",message:"Origin of the ActivityStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",i:"Ensure that the ActivityStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},eT={errorType:"ActivityStartingStateMissingAttributes",message:"The supplied ActivityStartingState object does not contain any recognized attributes.",i:"Ensure that the ActivityStartingState object contains at least one of the following attributes: mainStageUrl, sidePanelUrl, additionalData."},eE={errorType:"ActivityStartingStateUnrecognizedAttributes",message:"The supplied ActivityStartingState object contains attributes that are not recognized.",i:"Ensure that the ActivityStartingState object has only the following attributes: mainStageUrl, sidePanelUrl, additionalData."},eN={errorType:"AddonStartingStateMissingAttributes",message:"The supplied AddonStartingState object does not contain any recognized attributes.",i:"Ensure that the AddonStartingState object contains at least one of the following attributes: sidePanelUrl, additionalData."},eP={errorType:"AddonStartingStateUnrecognizedAttributes",message:"The supplied AddonStartingState object contains attributes that are not recognized.",i:"Ensure that the AddonStartingState object has only the following attributes: sidePanelUrl, additionalData."},eI=t=>({errorType:"ArgumentNullError",message:`The argument supplied for '${t}' was 'null' but a value was expected.`,i:"Ensure you are passing a value of the expected type for the argument."}),ej=(t,e,n)=>({errorType:"ArgumentTypeError",message:`The type '${e}' of argument supplied for '${t}' did not match the expected type '${n}'.`,i:"Ensure the type of the argument provided matches the expected type."}),eU=t=>({errorType:"InternalError",message:`Could not connect to ${t} channel. Unknown error`,i:"No further information is available."}),eM={errorType:"ActivityIsOngoing",message:"Operation cannot be performed while an activity is ongoing.",i:"Ensure that no activity is ongoing."},eC={errorType:"InternalError",message:"Frame message missing required Meet SDK command.",i:"Send one of the available commands in the frame message."},e_={errorType:"NoActivityFound",message:"No activity found.",i:"Ensure that the activity is started before performing this operation."},ek={errorType:"RequiresEapEnrollment",message:"This feature is only available to early access partners.",i:"Meet add-on early access enrollment is currently closed."},eO={errorType:"UserNotInitiator",message:"Operation cannot be performed because the user is not the initiator of the current activity.",i:"Ensure that the user is the initiator of the current activity or that the activity has ended."},eR={errorType:"SizeLimitExceededActivityStartingState",message:"The size of the activityStartingState URLs and/or its data exceed the limits allowed.",i:"Ensure that the activityStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."},eD={errorType:"SizeLimitExceededFrameToFrameMessage",message:"The size of the frame to frame message exceeds the limits allowed.",i:"Ensure that the frame to frame message size is less than 1,000,000 characters."},eL={errorType:"AddonSessionAlreadyCreated",message:"The addon session has already been created.",i:"Only instantiate the AddonSession once."},eF={errorType:"UserCancelled",message:"The user cancelled starting an activity.",i:"The user needs to click continue to start the activity."},e$={errorType:"NotSupportedInMeetCall",message:"This method is not supported during a Meet call.",i:"Do not call this method during a Meet call."},eB={errorType:"InvalidAddonStartingState",message:"Origin of the AddonStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",i:"Ensure that the AddonStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},ez={errorType:"SizeLimitExceededAddonStartingState",message:"The size of the AddonStartingState URLs and/or its data exceed the limits allowed.",i:"Ensure that the AddonStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."},eW={errorType:"MeetingPolicyPreventsStartingActivity",message:"A meeting policy (such as using host control settings) prevents the user from starting the activity.",i:"Have a meeting host or administrator modify the necessary settings to allow the current user to start the activity."};function eJ({errorType:t,message:e,i:n},r=""){throw new eg({errorType:t,message:r?`${e} ${r}`:e,i:n})}function eG(t,e){eJ({...ep,message:`${ep.message}: ${t}. In URL ${e}`})}function eK(t){return tq(new eH,1,tI(t),0)}function eY(t,e){return tq(t,2,t_(e),"")}function eV(t,e){return tq(t,3,t_(e),"")}var eH=class extends er{getFrameType(){return et(this,1)}};function eq(t){let e;u=void 0===to?2:4;var n,r,i,u,f=t.m[Y],h=f,d=!(2&f),y=eH;t=t.m,u=(f=!!(2&h))?1:u,d&&(d=!f);var p=0|(f=Array.isArray(f=tG(t,h,1))?f:g)[Y],m=!!(4&p);if(!m){var w=p;0===w&&(w=t6(w,h)),p=f;var v=h;let t=!!(2&(w|=1));t&&(v|=2);let e=!t,n=!0,r=0,i=0;for(;r<p.length;r++){let a=tk(p[r],y,v);if(a instanceof y){if(!t){let t=!!((0|a.m[Y])&2);e&&(e=!t),n&&(n=t)}p[i++]=a}}i<r&&(p.length=i),w|=4,w=n?16|w:-17&w,w=e?8|w:-9&w,p[Y]=w,t&&Object.freeze(p),p=w}if(d&&!(8&p||!f.length&&(1===u||4===u&&32&p))){for(tH(p)&&(f=G(f),p=t6(p,h),h=tY(t,h,1,f)),d=f,y=p,p=0;p<d.length;p++)v=tz(w=d[p]),w!==v&&(d[p]=v);y|=8,y=d.length?-17&y:16|y,p=d[Y]=y}if(1===u||4===u&&32&p){if(!tH(p)){h=p;var b=!!(32&p);(p|=!f.length||16&p&&(!m||b)?2:2048)!==h&&(f[Y]=p),Object.freeze(f)}}else m=5===u&&(!!(32&p)||tH(p)||!!tO(f)),(2===u||m)&&tH(p)&&(f=G(f),p=t5(p=t6(p,h),h,!1),f[Y]=p,h=tY(t,h,1,f)),tH(p)||(t=p,(p=t5(p,h,!1))!==t&&(f[Y]=p)),m?(r=f,void 0===s&&(s="function"==typeof Proxy?tR(Proxy):null),(i=!s)||(void 0===l&&(l="function"==typeof WeakMap?tR(WeakMap):null),i=!l),e=i?r:(i=tO(r))?i:Math.random()>.01?r:(function(t){if(void 0===c){let t=new s([],{});c=1===Array.prototype.concat.call([],t).length}c&&"function"==typeof Symbol&&Symbol.isConcatSpreadable&&(t[Symbol.isConcatSpreadable]=!0)}(r),n=i=new s(r,{set:(t,e,n)=>(z(),t[e]=n,!0)}),(a||(a=new l)).set(r,n),(o||(o=new l)).set(n,r),i)):2===u&&(null==(b=a)||b.delete(f));return e||f}var eX=class extends er{},eZ=class extends er{};function eQ(t){return tq(new e0,1,tI(t),0)}var e0=class extends er{},e1=class extends er{},e2=class extends er{},e3=class extends er{},e4=class extends er{getMeetingInfo(){return ee(this,e3,3,e6)}getMeetPlatformInfo(){return ee(this,e2,4,e6)}},e6=[2,3,4,5],e5=class extends er{},e9=[1,4,5,6,7,8,9,10,11,12,13,14,15,16,17],e7=class extends er{},e8=class extends er{},nt=new Map([[2,"MAIN_STAGE"],[1,"SIDE_PANEL"]]),ne=new Map([[0,"UNKNOWN"],[1,"OPEN_ADDON"],[2,"START_ACTIVITY"],[3,"JOIN_ACTIVITY"]]);function nn(t){t&&"function"==typeof t.dispose&&t.dispose()}function nr(){this.s=this.s,this.g=this.g}function ni(t,e){t.s?e():(t.g||(t.g=[]),t.g.push(e))}function na({J:t,R:e}){if(null===t)throw new eg(eI("activityStartingState"));if(e||void 0!==t){if("object"!=typeof t)throw new eg(ej("activityStartingState",typeof t,`object${e?"":" | undefined"}`));if(void 0!==t.mainStageUrl&&"string"!=typeof t.mainStageUrl)throw new eg(ej("mainStageUrl",typeof t.mainStageUrl,"string | undefined"));if(void 0!==t.sidePanelUrl&&"string"!=typeof t.sidePanelUrl)throw new eg(ej("sidePanelUrl",typeof t.sidePanelUrl,"string | undefined"));if(void 0!==t.additionalData&&"string"!=typeof t.additionalData)throw new eg(ej("additionalData",typeof t.additionalData,"string | undefined"));if(Object.keys(t).length!==+!!t.mainStageUrl+ +!!t.sidePanelUrl+ +!!t.additionalData)throw new eg(eE);if(0===Object.keys(t).length)throw new eg(eT)}}function no(t){let e=[];return e.push(eV(eY(eK(2),t.mainStageUrl),t.additionalData)),e.push(eV(eY(eK(1),t.sidePanelUrl),t.additionalData)),e}nr.prototype.s=!1,nr.prototype.dispose=function(){this.s||(this.s=!0,this.G())},nr.prototype[Symbol.dispose]=function(){this.dispose()},nr.prototype.G=function(){if(this.g)for(;this.g.length;)this.g.shift()()};var ns=class extends nr{constructor(t){super(),this.context=t,this.h={},n8(this.context.g.U,t=>{if(7===tX(t.content,e9)){let n=this.h.frameToFrameMessage;if(t=ee(t.content,e1,7,e9),n&&t){var e=et(t,1);if(void 0===(e=nt.get(e)))throw Error("Unknown frame type.");n({originator:e,payload:t8(t,2)})}}})}async getMeetingInfo(){let t=await rm(this.context.g,eQ(2));return{meetingId:t8(t.getMeetingInfo(),1),meetingCode:t8(t.getMeetingInfo(),2)}}async getFrameOpenReason(){let t,e;let n=null!=(t=this.context.h.ca)?t:0;return null!=(e=ne.get(n))?e:"UNKNOWN"}async getActivityStartingState(){var t=ee(await rm(this.context.g,eQ(1)),eX,2,e6);let e=null==t?void 0:eq(t).find(t=>2===t.getFrameType());return t=null==t?void 0:eq(t).find(t=>1===t.getFrameType()),{mainStageUrl:(null==e?void 0:t8(e,2))||void 0,sidePanelUrl:(null==t?void 0:t8(t,2))||void 0,additionalData:(null==t?void 0:t8(t,3))||void 0}}async setActivityStartingState(t){na({J:t,R:!0});var e,n=no(t);t=rw;var r=this.context.g,i=new e7;e=n,i=t2(i,1,n=t4(new eX,e)),await t(r,i)}on(t,e){this.h[t]=e}async getMeetPlatformInfo(){return{isMeetHardware:t9(tE(tW((await rm(this.context.g,eQ(3))).getMeetPlatformInfo(),1)),!1)}}async closeAddon(){await rv(this.context.g)}async startActivity(t){var e;na({J:t,R:!1});let n=new e8;t&&(e=t=no(t),t2(n,1,t=t4(new eX,e))),await rb(this.context.g,n)}async endActivity(t){var e=this.context.g;t=tq(new eZ,1,tI("aab61ee0-51b4-475d-aa4d-849f2498640d"===t?999:0),0),await rS(e,t)}},nl=ea(class extends er{getFrameOpenReason(){return et(this,5)}});function nc(){var t,e=window.location.href,n=window.location.href,r=new URL(n).searchParams.get("meet_sdk");if(r?n=nl(atob(r)):(eG("meet_sdk",n),n=void 0),(r=t8(n,1))||eG("meet_addon_frame_type",e),2!==(r=Number(r))&&1!==r)throw new eg(eb);let i=t8(n,2);i||eG("meet_control_channel_name",e);let a=t8(n,4);return a||eG("addon_cloud_project_number",e),{ca:e=null!=(t=n.getFrameOpenReason())?t:0,frameType:r,ba:i,cloudProjectNumber:a,S:t=t8(n,3)||"https://meet.google.com"}}var nu=class extends er{},nf=class extends er{},nh=class extends er{},nd=[1,2],ng=class extends er{},ny=class extends er{},np=class extends er{},nm=class extends er{},nw=class extends er{},nv=class extends er{setAddonStartingState(t){return t2(this,1,t)}},nb=class extends er{},nS=class extends er{},nx=[1,2,5,6,7,8,9,10,11,13,14,15,16],nA=class extends er{},nT=ea(nA),nE=[1,2];class nN{constructor(t,e){this.data=t,this.channel=e}}var nP=Promise;function nI(t){let e=new MessageChannel;return nM(e.port1,t),e}function nj(t,e){return nM(t,e),new nU(t)}class nU{constructor(t){this.g=t}send(t,e,n=[]){e=nI(e),this.g.postMessage(t,[e.port2].concat(n))}C(t,e){return new nP(n=>{this.send(t,n,e)})}}function nM(t,e){e&&(t.onmessage=t=>{e(new nN(t.data,t=nj(t.ports[0])))})}var nC="undefined"!=typeof AsyncContext&&"function"==typeof AsyncContext.Snapshot?t=>t&&AsyncContext.Snapshot.wrap(t):t=>t;function n_(t,e){t.l(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}class nk{constructor(t,e){this.j=t,this.l=e,this.h=0,this.g=null}get(){let t;return this.h>0?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.j(),t}}class nO{constructor(){this.h=this.g=null}add(t,e){let n=nR.get();n.set(t,e),this.h?this.h.next=n:this.g=n,this.h=n}}var nR=new nk(()=>new nD,t=>t.reset());class nD{constructor(){this.next=this.g=this.h=null}set(t,e){this.h=t,this.g=e,this.next=null}reset(){this.next=this.g=this.h=null}}let nL,nF=!1,n$=new nO,nB=(t,e)=>{nL||nz(),nF||(nL(),nF=!0),n$.add(t,e)},nz=()=>{let t=Promise.resolve(void 0);nL=()=>{t.then(nW)}};function nW(){let t,e;for(;e=null,n$.g&&(e=n$.g,n$.g=n$.g.next,n$.g||(n$.h=null),e.next=null),t=e;){try{t.h.call(t.g)}catch(t){S(t)}n_(nR,t)}nF=!1}function nJ(){}function nG(t){if(this.g=0,this.T=void 0,this.l=this.h=this.j=null,this.v=this.B=!1,t!=nJ)try{let e=this;t.call(void 0,function(t){nX(e,2,t)},function(t){nX(e,3,t)})}catch(t){nX(this,3,t)}}function nK(){this.next=this.context=this.h=this.l=this.g=null,this.j=!1}nK.prototype.reset=function(){this.context=this.h=this.l=this.g=null,this.j=!1};var nY=new nk(function(){return new nK},function(t){t.reset()});function nV(t,e,n){let r=nY.get();return r.l=t,r.h=e,r.context=n,r}function nH(t,e){(e=nV(e=nC(e),e)).j=!0,nq(t,e)}function nq(t,e){t.h||2!=t.g&&3!=t.g||nZ(t),t.l?t.l.next=e:t.h=e,t.l=e}function nX(t,e,n){if(0==t.g){t===n&&(e=3,n=TypeError("Promise cannot resolve to itself")),t.g=1;t:{var r,i=n,a=t.ma,o=t.na;if(i instanceof nG){nq(i,nV(a||nJ,o||null,t));var s=!0}else{if(i)try{var l=!!i.$goog_Thenable}catch(t){l=!1}else l=!1;if(l)i.then(a,o,t),s=!0;else{if("object"==(l=typeof i)&&null!=i||"function"==l)try{let e=i.then;if("function"==typeof e){(function(t,e,n,r,i){function a(t){o||(o=!0,r.call(i,t))}let o=!1;try{e.call(t,function(t){o||(o=!0,n.call(i,t))},a)}catch(t){a(t)}})(i,e,a,o,t),s=!0;break t}}catch(e){o.call(t,e),s=!0;break t}s=!1}}}s||(t.T=n,t.g=e,t.j=null,nZ(t),3!=e||n instanceof n3||(r=n,t.v=!0,nB(function(){t.v&&n2.call(null,r)})))}}function nZ(t){t.B||(t.B=!0,nB(t.la,t))}function nQ(t){let e=null;return t.h&&(e=t.h,t.h=e.next,e.next=null),t.h||(t.l=null),e}function n0(t,e,n,r){if(3==n&&e.h&&!e.j)for(;t&&t.v;t=t.j)t.v=!1;if(e.g)e.g.j=null,n1(e,n,r);else try{e.j?e.l.call(e.context):n1(e,n,r)}catch(t){n2.call(null,t)}n_(nY,e)}function n1(t,e,n){2==e?t.l.call(t.context,n):t.h&&t.h.call(t.context,n)}nG.prototype.then=function(t,e,n){return function(t,e,n,r){let i=nV(null,null,null);return i.g=new nG(function(t,a){i.l=e?function(n){try{let i=e.call(r,n);t(i)}catch(t){a(t)}}:t,i.h=n?function(e){try{let i=n.call(r,e);void 0===i&&e instanceof n3?a(e):t(i)}catch(t){a(t)}}:a}),i.g.j=t,nq(t,i),i.g}(this,nC("function"==typeof t?t:null),nC("function"==typeof e?e:null),n)},nG.prototype.$goog_Thenable=!0,nG.prototype.cancel=function(t){if(0==this.g){let e=new n3(t);nB(function(){(function t(e,n){if(0==e.g){if(e.j){var r=e.j;if(r.h){var i=0,a=null,o=null;for(let t=r.h;t&&(t.j||(i++,t.g==e&&(a=t),!(a&&i>1)));t=t.next)a||(o=t);a&&(0==r.g&&1==i?t(r,n):(o?((i=o).next==r.l&&(r.l=i),i.next=i.next.next):nQ(r),n0(r,a,3,n)))}e.j=null}else nX(e,3,n)}})(this,e)},this)}},nG.prototype.ma=function(t){this.g=0,nX(this,2,t)},nG.prototype.na=function(t){this.g=0,nX(this,3,t)},nG.prototype.la=function(){let t;for(;t=nQ(this);)n0(this,t,this.g,this.T);this.B=!1};var n2=S;function n3(t){b.call(this,t)}function n4(t,e,n){this.promise=t,this.resolve=e,this.reject=n}v(n3,b),n3.prototype.name="cancel";let n6=1,n5=new WeakMap;function n9(t,e,n){var r,i;t.h.has(e),r=e,i=n,new Promise(t=>{rr(()=>{for(let{I:t,slot:e}of(r.L&&(r.ea=i,r.P=!0),r.o.values()))try{e(i,{signal:r,I:t})}catch(t){S(t)}for(let t of r.A)t.resolve(i);r.A.clear(),t()})})}var n7=class extends nr{constructor(){super(),this.h=new Set}signal(){let t=new rt;return this.h.add(t),ni(this,function(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}(nn,t)),t}};function n8(t,e,n){let r=n6++;return rr(()=>{(function(t,e,n,r){if(!t.s){if(r){if(!r.s){let i=()=>{rr(()=>{t.o.delete(e);let n=n5.get(r);n&&M(n,i)})};t.o.set(e,{I:e,slot:n,F:i}),ro(r,i)}}else t.o.set(e,{I:e,slot:n,F:()=>t.o.delete(e)})}})(t,r,e,n)}),r}var rt=class extends nr{constructor(){super(),this.L=!1,this.o=new Map,this.A=new Set,this.P=!1}detach(t){rr(()=>{let e=this.o.get(t);e&&e.F()})}value(t){return this.promise(!0,t)}next(t){return this.promise(!1,t)}promise(t,e){let n,r;let i=new n4(new nG(function(t,e){n=t,r=e}),n,r);return rr(()=>{if(this.s)i.reject(new n3("Signal initially disposed"));else if(e&&e.s)i.reject(new n3("Owner initially disposed"));else if(t&&this.L&&this.P)i.resolve(this.ea);else if(this.A.add(i),nH(i.promise,()=>{this.A.delete(i)}),e){let t=()=>{i.reject(new n3("Owner asynchronously disposed"))};nH(i.promise,()=>{let n=n5.get(e);n&&M(n,t)}),ro(e,t)}}),i.promise}G(){super.G(),rr(()=>{for(let{F:t}of this.o.values())t();for(let t of(this.o.clear(),this.A))t.reject(new n3("Signal asynchronously disposed"));this.A.clear()})}};let re=[],rn=!1;function rr(t){re.push(t),ri()}async function ri(){if(!rn)try{rn=!0;let t=ra(0);for(;t<re.length;)await Promise.resolve(),t=ra(t)}catch(t){S(t)}finally{re.length=0,rn=!1}}function ra(t){let e=t+100;for(;t<e&&t<re.length;)try{re[t++]()}catch(t){S(t)}return t}function ro(t,e){if(t.s)e();else{var n=n5.get(t);if(n)n.push(e);else{let n=[e];n5.set(t,n),ni(t,()=>{for(let t of[...n])t();n5.delete(t)})}}}function rs(t){return{content:en(t=t3(new nA,1,nE,t))}}let rl=new n7;var rc=class extends er{},ru=class extends er{},rf=class extends er{h(){return ee(this,rc,2,rh)}g(){return tV(this,rc,2,rh)}j(){return ee(this,ru,3,rh)}l(){return tV(this,ru,3,rh)}},rh=[2,3],rd=ea(class extends er{}),rg=ea(class extends er{}),ry=[1,2],rp=({destination:t,origin:e,ra:n,Y:r="ZNWN1d",onMessage:i})=>{if("*"===e)throw Error("Sending to wildcard origin not allowed.");let a=nI(i);return t.postMessage(n?{n:r,t:n}:r,e,[a.port2]),nj(a.port1,i)};async function rm(t,e){let n;return e=t3(new nS,9,nx,e),null==(n=ee(nT((t=await rA(t,rs(e))).data.content),e5,2,nE))?void 0:ee(n,e4,9,e9)}async function rw(t,e){e=t3(new nS,8,nx,e),await rA(t,rs(e))}async function rv(t){var e=new nS;e=t3(e,11,nx,new nu),await rA(t,rs(e))}async function rb(t,e){e=t3(new nS,14,nx,e),await rA(t,rs(e))}async function rS(t,e){e=t3(new nS,15,nx,e),await rA(t,rs(e))}async function rx(t){await t.h()}async function rA(t,e){let n;(t=await t.channel.C(e))||eJ(ey,`Falsy response received from the message channel. ${JSON.stringify(t)}`),(e=t.data)||eJ(ey,`Data field in the response from the message channel is falsy. ${JSON.stringify(e)}`),(e=e.content)||eJ(ey,`Content field in the response from the message channel is falsy. ${JSON.stringify(e)}`);try{n=nT(e)}catch(t){eJ(ey,`The ControlMessage can't be deserialized. ${JSON.stringify(e)}. ${JSON.stringify(t)}`)}if((e=ee(n,e5,2,nE))||eJ(ey,`MeetToAddonMessage field on ControlMessage is falsy. ${JSON.stringify(e)}`),(null==(e=null==e?void 0:ee(e,ed,10,e9))?void 0:et(e,1))!==void 0)throw new eg(function(t){switch(t){case 0:default:return ey;case 1:return ex;case 2:return eA;case 3:return eM;case 4:return eC;case 5:return ek;case 6:return ev;case 7:return eO;case 8:return eR;case 9:return eD;case 10:return eF;case 11:return e$;case 12:return eB;case 13:return ez;case 14:return e_;case 15:return eW}}(et(e,1)));return t}async function rT(t,e,n){var r,i=rA;return e=t3(new nS,1,nx,e),t=(i=await i(t,rs(e))).data.messagePort,r=null!=(i=null==(r=ee(nT(i.data.content),e5,2,nE))?void 0:ee(r,ef,1,e9))?i:tq(r=new ef,1,tI(0),0),{channel:t?function(t,e){let n=rl.signal();return{channel:nj(t,t=>{n9(rl,n,{content:e(t.data),ka:t})}),signal:n}}(t,n):void 0,response:r}}async function rE(t){let e=t3(new nh,1,nd,new nf),{channel:n,response:r}=await rT(t,e,t=>rg(t));if(!n)throw new eg(function(t){let e;var n=null!=(e=et(t,1))?e:0;switch(t=function(t){switch(t){case 2:return"co";case 3:return"gd";default:return"unknown"}}(tX(t,eh)),n){case 1:return{errorType:"InternalError",message:`Could not connect to ${t} channel. Meet did not respond with a MessagePort.`,i:"No further information is available."};case 2:return{errorType:"InternalError",message:`Could not connect to ${t}. A conflicting ${t} exists.`,i:"No further information is available."};case 3:return{errorType:"InternalError",message:`Could not connect to ${t} channel. The addon does not have permission to open a ${t}.`,i:"This method might require EAP enrollment."};case 4:return{errorType:"InternalError",message:`Could not connect to ${t} channel. The addon is not authorized for this ${t}.`,i:"No further information is available."};case 0:default:return eU(t);case 5:t:if("co"===t){n={errorType:"InternalError",message:`Could not connect to ${t} channel. The coActivity was not found.`,i:`Consider starting the ${t} only after after the startActivity promise returns.`};break t}else n={errorType:"InternalError",message:`Could not connect to ${t} channel.`,i:"No further information is available."};return n}}(r));return n}async function rN(t){var e=new nS;e=t3(e,5,nx,new nb),await rA(t,rs(e))}async function rP(t){var e=new nS;e=t3(e,6,nx,new ny),await rA(t,rs(e))}async function rI(t,e,n){var r=new nS;e=tq(new np,1,tI(e),0),r=t3(r,7,nx,n=tq(e,2,t_(n),"")),await rA(t,rs(r))}async function rj(t,e){e=t3(new nS,16,nx,e),await rA(t,rs(e))}class rU extends nr{constructor(t,e,n){var i,a,o,s;super(),this.U=t,this.channel=e,this.h=(i=async()=>{var t=this.channel,e=t.C,n=new nS;n=t3(n,13,nx,new nm),await e.call(t,rs(n))},a=new eu(100),o=Promise.resolve(),(...t)=>el(a)?i(...t):o),t8(t=function(){var t=r||(r=eo("[1,2,0]"));let e=(t=tK(t=tz(t),4,t_("dev-706864954"))).m,n=e[Y];return 2&n?t:new t.constructor(tB(e,n,!0))}(),4),tj(tW(t,1)),tj(tW(t,2)),tj(tW(t,3)),n=t3(new nS,2,nx,(s=t,tq(t2(new ng,2,s),3,t_(n),""))),this.channel.send(rs(n)),n8(this.U,async t=>{16===tX(t.content,e9)&&await rx(this)})}}var rM=class{constructor(t){var e=i;this.h=t,this.g=e}delete(){throw Error("Not implemented.")}},rC=class extends er{h(){return ee(this,rc,2,r_)}g(){return tV(this,rc,2,r_)}j(){return ee(this,ru,3,r_)}l(){return tV(this,ru,3,r_)}},r_=[2,3],rk=class extends er{},rO=class extends er{},rR=class extends er{},rD=class extends er{h(){return ee(this,rc,2,rL)}g(){return tV(this,rc,2,rL)}j(){return ee(this,ru,3,rL)}l(){return tV(this,ru,3,rL)}},rL=[2,3],rF=[5,6],r$=class extends er{},rB=class extends er{},rz=[1,2,3],rW=class extends Error{constructor(){super("Failed to create CoActivity: Connection refused - Meet refused to begin Live Sharing")}},rJ=class{constructor(t){this.config=t}start(){return null!=this.g||(this.g=setInterval(()=>{this.config.ha()},this.config.da)),this}shutdown(){clearInterval(this.g)}};function rG(){let t=new Map,e={set:(n,r)=>(t.set(n,r),e),D:()=>t};return e}function rK(t){if(t.g()){var e=(t=t.h().m)[Y],n=tG(t,e,1),r=tn(n,!0);if(null!=r&&r!==n&&tY(t,e,1,r),e=null==(t=r)?L():t,t=Uint8Array,$(D),null!=(n=e.g)&&!R(n)){if("string"==typeof n){_.test(n)&&(n=n.replace(_,O)),r=new Uint8Array((n=atob(n)).length);for(let t=0;t<n.length;t++)r[t]=n.charCodeAt(t);n=r}else n=null}return{bytes:new t((e=null==n?n:e.g=n)||0)}}}function rY(t,e){return t3(t,2,rL,e=rH(e)),t}function rV(t,e){return t3(t,2,r_,e=rH(e)),t}function rH(t){return tq(new rc,1,tn(t.bytes,!1),L())}function rq(t){if(t.l()){var e,n,r=t8(t=t.j(),1),i=null!=(n=null==(e=t1(t,es,2))?void 0:t7(e))?n:0;let a=(n=t.m)[Y],o=tG(n,a,4);return null!=(e=null==o||"number"==typeof o?o:"NaN"===o||"Infinity"===o||"-Infinity"===o?Number(o):void 0)&&e!==o&&tY(n,a,4,e),{mediaId:r,mediaPlayoutPosition:i,mediaPlayoutRate:t9(e,0),playbackState:rQ.get(et(t,3))}}}function rX(t,e){return t3(t,3,rL,e=r1(e)),t}function rZ(t,e){return t3(t,3,r_,e=r1(e)),t}let rQ=rG().set(0,"INVALID").set(1,"BUFFERING").set(2,"PLAY").set(3,"PAUSE").set(4,"ENDED").D(),r0=rG().set("INVALID",0).set("BUFFERING",1).set("PLAY",2).set("PAUSE",3).set("ENDED",4).D();function r1(t){var e=new ru;e=tq(e,1,t_(t.mediaId),"");var n=t.mediaPlayoutRate;if(null!=n&&"number"!=typeof n)throw Error(`Value of float/double field must be a number, found ${typeof n}: ${n}`);return e=t2(e=tq(e,4,n,0),2,n=tq(n=new es,1,tU(t.mediaPlayoutPosition),"0")),tq(e,3,tI(t=r0.get(t.playbackState)),0)}function r2(t,e){return t3(t,6,rF,e=tq(new rO,1,tI(e.u),0)),t}function r3(t){return t3(t,5,rF,new rk),t}let r4=rG().set("co-doing",1).set("co-watching",2).D();async function r6(t,e,n){let r;var i=e.C,a=new rB,o=new r$;if(o=tq(o,1,t_(t.activityTitle),""),a=t3(a,3,rz,o=tq(o,2,tI(r4.get(t.K)),0)),null!=(r=t9(tE(tW(i=await i.call(e,a,rd),1)),!1))&&r)return new r7(t,e,n,t1(i,rf,2));throw new rW}function r5(t,e){let n=t.config.N(e);n&&!t.config.M(t.g,n)&&(t.g=n,t.j=t7(e),t.v(t.g))}function r9(t,e){let{state:n,fa:r,context:i}=e(t.g);t.g=n,t.notify(t.g,i,r)}class r7{constructor(t,e,n,r){var i,a;let o,s;this.l=t,this.h=e,this.config=n,this.v=(i=t=>void this.l.O(t),a=new eu(500),o=0,(...t)=>{el(a)?i(...t):(s=()=>void i(...t),o||(o=setTimeout(()=>{o=0,null==s||s()},function(t){let e=t.g;return(t=ec(t,t.index))>=e?0:e-t}(a))))}),function(t,e){let n=n8(t.signal,t=>{e(t)});t.o.push(n)}(this.h,t=>{let e=tX(t,ry);switch(e){case 1:r5(this,ee(t,rf,1,ry));break;case 2:case 0:console.warn(`IllegalMessage: ${e} - Unhandled message - Please raise a bug with the MeetJS team`)}}),this.B=new rJ({da:1e3,ha:()=>{var t,e,n=null==(e=(t=this.l).ja)?void 0:e.call(t);if(null!==this.g){this.g={...this.g,...n},t=new rB,n=(e=this.config).W;var r=new rC;r=tq(r,1,tU(this.j),"0"),t=t3(t,1,rz,e=n.call(e,r,this.g)),this.h.send(t)}}}).start(),this.g=null,this.j=0,r&&r5(this,r)}disconnect(){this.h.shutdown(),this.B.shutdown()}notify(t,e,n){var r=n?function({activityTitle:t}){return tK(new rR,4,t_(t))}(n):void 0,i=(n=this.config).X,a=new rD;r=t2(a=tq(a,1,tU(this.j),"0"),4,r),t=i.call(n,r,t),t=this.config.V(t,e),n=(e=this.h).send,t=t3(i=new rB,2,rz,t),n.call(e,t)}}var r8=class{constructor(t){this.g=t}broadcastStateUpdate(t){r9(this.g,()=>({state:t,context:{}}))}disconnect(){this.g.disconnect()}};function it(t,e){return null!=t&&null!=e&&t.bytes.length===e.bytes.length&&t.bytes.every((t,n)=>t===e.bytes[n])}var ie=class{constructor(t){this.g=t}notifySwitchedToMedia(t,e,n){r9(this.g,()=>({state:{mediaId:e,mediaPlayoutRate:1,mediaPlayoutPosition:n,playbackState:"PLAY"},fa:{activityTitle:t},context:{u:1}}))}notifyPauseState(t,e){r9(this.g,n=>{if(null==n)throw Error("Invalid before coWatchingState");return{state:{...n,playbackState:t?"PAUSE":"PLAY",mediaPlayoutPosition:e},context:{u:3}}})}notifySeekToTimestamp(t){r9(this.g,e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t},context:{u:2}}})}notifyPlayoutRate(t){r9(this.g,e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutRate:t},context:{u:4}}})}notifyBuffering(t){r9(this.g,e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t,playbackState:"BUFFERING"},context:{u:3}}})}notifyReady(t){r9(this.g,e=>{if(null==e)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t},context:{u:3}}})}disconnect(){this.g.disconnect()}};function ir(t,e){if(null==t||null==e)return!1;let n="PLAY"===t.playbackState?3*Math.max(t.mediaPlayoutRate,1):0,r=Math.abs(t.mediaPlayoutPosition-e.mediaPlayoutPosition);return t.mediaId===e.mediaId&&t.mediaPlayoutRate===e.mediaPlayoutRate&&r<=n&&t.playbackState===e.playbackState}var ii=class{constructor(t,e){this.channel=t,this.signal=e,this.o=[]}send(t){this.channel.send(en(t))}async C(t,e){return e((t=await this.channel.C(en(t))).data)}shutdown(){this.o.forEach(t=>{this.signal.detach(t)})}};async function ia(t,e){if(e)return new ie(t=await r6({activityTitle:e.activityTitle,K:"co-watching",ja:()=>e.onCoWatchingStateQuery(),O:t=>{e.onCoWatchingStateChanged(t)}},t,{X:rX,W:rZ,V:r2,N:rq,M:ir}))}async function io(t,e){if(e)return new r8(t=await r6({activityTitle:e.activityTitle,K:"co-doing",O:t=>{e.onCoDoingStateChanged(t)}},t,{X:rY,W:rV,V:r3,N:rK,M:it}))}async function is(t){let e=new n7,n=e.signal();!function(t,e,n,r=t=>t){n8(n,n=>{n9(t,e,r(n))},t)}(e,n,(t=await t).signal,t=>t.content);let{ia:r,ga:i}=function(t,e){let n=t.signal(),r=t.signal();return n8(e,e=>{n9(t,!function(t){t:if(1===tX(t,ry)){t=ee(t,rf,1,ry);break t}else throw Error("CA Message arrived with no known content message set");return t.g()}(e)?r:n,e)},t),{ia:n,ga:r}}(e,n);return{Z:new ii(t.channel,r),aa:new ii(t.channel,i)}}async function il(t,e){if({Z:t}=await is(rE(t.g)),!(e=await io(t,e)))throw Error("Failed to create co-doing session");return e}async function ic(t,e){if({aa:t}=await is(rE(t.g)),!(e=await ia(t,e)))throw Error("Failed to create co-watching session");return e}var iu=class extends ns{async notifySidePanel(t){await rI(this.context.g,1,t)}async unloadSidePanel(){await rN(this.context.g)}async loadSidePanel(){await rP(this.context.g)}},ih=class extends ns{async setAddonStartingState(t){if(null===t)throw new eg(eI("addonStartingState"));if("object"!=typeof t)throw new eg(ej("addonStartingState",typeof t,"object | undefined"));if(void 0!==t.sidePanelUrl&&"string"!=typeof t.sidePanelUrl)throw new eg(ej("sidePanelUrl",typeof t.sidePanelUrl,"string | undefined"));if(void 0!==t.additionalData&&"string"!=typeof t.additionalData)throw new eg(ej("additionalData",typeof t.additionalData,"string | undefined"));if(Object.keys(t).length!==+!!t.sidePanelUrl+ +!!t.additionalData)throw new eg(eP);if(0===Object.keys(t).length)throw new eg(eN);var e=[];e.push(eV(eY(eK(1),t.sidePanelUrl),t.additionalData)),t=this.context.g;var n=new nv,r=n.setAddonStartingState;e=t4(new nw,e),await rj(t,r.call(n,e))}},id=class extends ns{async notifyMainStage(t){await rI(this.context.g,2,t)}},ig=class{constructor(t){let e;t=t.cloudProjectNumber;let n=nc();if(n.cloudProjectNumber!==t)throw new eg(eS);let r=n.S,a=n.ba;i=null!=(e=i)?e:function(t,e,n){let r=new n7,i=r.signal();return t=rp({destination:window.parent,origin:e,Y:t,onMessage:t=>{let e=nT(t.data.content);2===tX(e,nE)&&n9(r,i,{content:ee(e,e5,2,nE),ka:t,messagePort:t.data.messagePort})}}),new rU(i,t,n)}(a,r,t),this.g=new rM(n)}async createMainStageClient(){var t=this.g;if(2!==t.h.frameType)throw new eg(em);return await Promise.resolve(new iu(t))}async createSidePanelClient(){var t=this.g;if(1!==t.h.frameType)throw new eg(ew);return await Promise.resolve(new id(t))}async createCoWatchingClient(t){return await ic(this.g,t)}async createCoDoingClient(t){return await il(this.g,t)}async createRoomsStandaloneClient(){var t=this.g;if(2!==t.h.frameType)throw new eg(em);return await Promise.resolve(new ih(t))}};let iy=null;var ip={addon:{getFrameType:function(){t:{var t=nc().frameType;switch(t){case 2:t="MAIN_STAGE";break t;case 1:t="SIDE_PANEL";break t;default:throw Error(`Unknown frame type: ${t}`)}}return t},createAddonSession:async function(t){if(null===t)throw new eg(eI("config"));if("object"!=typeof t)throw new eg(ej("config",typeof t,"object"));if("string"!=typeof t.cloudProjectNumber)throw new eg(ej("cloudProjectNumber",typeof t.cloudProjectNumber,"string"));if(iy&&"integration.test.google.com"!==nc().S)throw new eg(eL);return iy=new ig(t)}}},im=["meet"],iw=w;for((im[0]in iw)||void 0===iw.execScript||iw.execScript("var "+im[0]);im.length&&(y=im.shift());)im.length||void 0===ip?iw=iw[y]&&iw[y]!==Object.prototype[y]?iw[y]:iw[y]={}:iw[y]=ip}).apply(r);let i=r.meet}}]);